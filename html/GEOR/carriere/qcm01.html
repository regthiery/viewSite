<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM : QCM Matériaux de Carrière</title>
    <link rel="stylesheet" href="../../css/styleqcm1.css">
</head>
<body>

<div class="nav-buttons">
    <a href="../fiche01.html"   class="nav-button"  >Retour</a>
    <a href="" class="nav-button"  disabled>Page précédente</a>
    <a href="qcm02.html" class="nav-button"  >Page suivante</a>
</div>

<div class="container">
    <h1>QCM : Matériaux de Carrière - Auto-évaluation</h1>
    <h2>Les granulats (1)</h2>
    <form id="qcm-form">
        <div class="question-box" id="q1-box">
            <div class="question">1. Quelles ressources terrestres naturelles constituent les principales sources de matériaux de construction en France actuelle ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q1" value="C"> A) Les granulats, les calcaires et le gypse </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="D"> B) La silice, le gypse et les pierres de construction </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="B"> C) Le fer, le bois, la pierre taillée et les hydrocarbures </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="A"> D) Les argiles et la biomasse (bois, paille, chanvre, etc) </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats, les calcaires cimentiers et le gypse sont les principales ressources terrestres naturelles utilisées dans les travaux publics, le génie civil et la construction en France.</p>
		</div>
        <div class="question-box" id="q2-box">
            <div class="question">2. Quelle est la taille des granulats utilisés dans la construction ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q2" value="C"> A) Entre 1 mm et 50 mm </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="A"> B) Entre 125 mm et 1 m </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="B"> C) Entre 0 et 125 mm </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="D"> D) Plus de 125 mm </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats sont des fragments de roche dont la taille varie entre 0 et 125 mm, comprenant des particules fines (sables) et grossières (graviers).</p>
		</div>
        <div class="question-box" id="q3-box">
            <div class="question">3. Quelle est la quantité de granulats extraits chaque année en France ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q3" value="C"> A) Environ 360 millions de tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="B"> B) Environ 160 millions de tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="D"> C) Environ 60 millions de tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="A"> D) Environ 1060 millions de tonnes </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> En France, environ 360 millions de tonnes de granulats sont extraites chaque année pour répondre aux besoins de la construction et des infrastructures, soit environ un million de tonnes par jour (c'est l'équivalent d'une carrière de taille moyenne qui serait entièrement exploitée en une journée !).</p>
		</div>
        <div class="question-box" id="q4-box">
            <div class="question">4. Quelle est la consommation moyenne de granulats par habitant et par an ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q4" value="A"> A) 5 tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="D"> B) 20 tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="C"> C) 10 tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="B"> D) 7 tonnes </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> La consommation moyenne de granulats par habitant en France est d'environ 7 tonnes par an. Cela représente une quantité significative, car les granulats sont utilisés dans de nombreuses applications de construction telles que le béton, les routes et les infrastructures publiques. Les autres réponses sont trop faibles ou trop élevées par rapport à la moyenne annuelle constatée.</p>
		</div>
        <div class="question-box" id="q5-box">
            <div class="question">5. Combien de granulats consommons-nous environ par jour ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q5" value="C"> A) 50 kg </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="B"> B) 20 kg </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="A"> C) 5 kg </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="D"> D) 100 kg </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Cela correspond à environ 20 kg de granulats consommés chaque jour par habitant, directement ou indirectement dans les infrastructures.</p>
		</div>
        <div class="question-box" id="q6-box">
            <div class="question">6. Quelle est la définition d’un granulat ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q6" value="C"> A) Un matériau granulaire composé de fragments de roche avec une certaine granulométrie pour les besoins de la construction </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="B"> B) Une roche massive utilisée pour les fondations </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="A"> C) Un matériau gravillonnaire utilisé dans la construction </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="D"> D) Une poudre fine utilisée pour produire du ciment </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Un granulat est défini comme un matériau granulaire, constitué de fragments de roche ou de minéraux, de taille comprise entre 0 et 125 mm, et utilisé largement dans la construction, notamment pour le béton ou les enrobés. Les gravillons ont une taille comprise entre 5 et 25 mm. Ils ne constituent donc qu'une fraction des granulats.</p>
		</div>
        <div class="question-box" id="q7-box">
            <div class="question">7. Comment sont classés les granulats en fonction de leur taille ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q7" value="D"> A) En gros blocs et petits blocs </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="A"> B) En poussières et éclats </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="B"> C) En sables et graviers </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="C"> D) En pierres et cailloux </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats sont classés en fonction de leur taille : les particules de moins de 4 mm sont appelées sables, tandis que celles comprises entre 4 et 125 mm sont des graviers.</p>
		</div>
        <div class="question-box" id="q8-box">
            <div class="question">8. Quelles sont les origines possibles des granulats ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q8" value="B"> A) Naturelle, artificielle ou recyclée </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="A"> B) Naturelle uniquement </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="C"> C) Artificielle uniquement </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="D"> D) Recyclée uniquement </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats peuvent avoir trois origines principales : naturelle (par érosion ou concassage), artificielle (produits par des procédés industriels) ou recyclée (issus de la réutilisation de matériaux).	</p>
		</div>
        <div class="question-box" id="q9-box">
            <div class="question">9. Quelle est l'utilisation principale des granulats ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q9" value="B"> A) La construction, notamment dans les bétons et les enrobés </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="C"> B) La production de céramiques </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="D"> C) La création de pigments pour peinture </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="A"> D) La fabrication de briques </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> La construction est l’utilisation principale des granulats, où ils sont indispensables dans la fabrication des bétons pour le bâtiment et des enrobés pour les routes.</p>
		</div>
        <div class="question-box" id="q10-box">
            <div class="question">10. Quelle est la principale source d’approvisionnement en granulats en France ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q10" value="D"> A) Les granulats importés </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="A"> B) Les granulats marins </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="C"> C) Les granulats artificiels </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="B"> D) Les granulats naturels </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats naturels, provenant des carrières de roches massives ou des dépôts de roches meubles, représentent la principale source d’approvisionnement en France.	</p>
		</div>
        <div class="question-box" id="q11-box">
            <div class="question">11. Quelles sont les différentes sources de granulats de roches meubles ?</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="F"> A) Bétons recyclés  </label>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="D"> B) Sables, graviers et galets du littoral </label>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="B"> C) Sables et graviers alluvionnaires </label>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="A"> D) Basalte, granite et calcaire </label>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="E"> E) Quartzite, gneiss et schiste </label>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="C"> F) Alluvions fluvio-glaciaires ou glacio-lacustres </label>
                <label><input type="checkbox" class="checkbox-margin" name="q11" value="G"> G) Laitiers de haut-fourneau </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats meubles se trouvent dans des dépôts naturels tels que les alluvions d'origine glaciaire ou les alluvions fluviatiles ou littorales, souvent facilement accessibles.</p>
		</div>
        <div class="question-box" id="q12-box">
            <div class="question">12. Quelles roches sont exploitées comme granulats de roches massives ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q12" value="A"> A) Sables alluvionnaires et graviers fluviatiles </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="D"> B) Roches uniquement sédimentaires </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="C"> C) Roches volcaniques, plutoniques, métamorphiques et sédimentaires </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="B"> D) Bétons recyclés et sables marins </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats massifs peuvent provenir d’une large gamme de roches : volcaniques (basalte), plutoniques (granite), métamorphiques (quartzite) et sédimentaires (calcaire).</p>
		</div>
        <div class="question-box" id="q13-box">
            <div class="question">13. Que contient la catégorie des granulats de recyclage ?</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="B"> A) Laitiers de haut-fourneau </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="D"> B) Roches massives comme le granite </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="A"> C) Bétons et enrobés issus de chantiers de démolition </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="C"> D) Sables et graviers du littoral </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="E"> E) Alluvions glaciaires </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats de recyclage incluent des matériaux réutilisés comme les bétons et enrobés provenant de chantiers de démolition, ainsi que les laitiers de haut-fourneau, qui sont des sous-produits industriels valorisés. Les autres options (sables, graviers ou roches massives) relèvent de sources naturelles.</p>
		</div>
        <div class="question-box" id="q14-box">
            <div class="question">14. Où est interdite l’extraction des sables et graviers fluviatiles en France ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q14" value="B"> A) En lit majeur des rivières </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="A"> B) En bordure des littoraux </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="C"> C) En lit mineur des rivières </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="D"> D) Dans les alluvions glaciaires </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'extraction des sables et graviers est interdite en lit mineur des rivières, car cette zone est directement en contact avec le cours d'eau et joue un rôle essentiel dans la dynamique fluviale et la préservation des écosystèmes aquatiques. En revanche, l'extraction est permise en lit majeur (les zones adjacentes aux rivières, souvent inondées).</p>
		</div>
        <div class="question-box" id="q15-box">
            <div class="question">15. Quelle est l’origine des granulats de roches meubles ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q15" value="C"> A) Des matériaux synthétiques fabriqués industriellement </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="D"> B) Des déchets de construction recyclés </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="B"> C) Des roches extraites directement en carrière et concassées </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="A"> D) Des roches désagrégées naturellement par l’altération et le transport </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats de roches meubles proviennent de processus naturels comme l'altération et l’érosion, contrairement aux granulats massifs, qui nécessitent un concassage en carrière.</p>
		</div>
        <div class="question-box" id="q16-box">
            <div class="question">16. Quels sont des exemples typiques de granulats de roches massives ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q16" value="D"> A) Alluvions glaciaires </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="A"> B) Sables et graviers alluvionnaires </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="B"> C) Basalte, granite, calcaire </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="C"> D) Sables du littoral </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats massifs sont issus de roches dures comme le basalte ou le granite, alors que les granulats meubles incluent les sables et graviers alluvionnaires.</p>
		</div>
        <div class="question-box" id="q17-box">
            <div class="question">17. Comment sont extraits les granulats de roches massives ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q17" value="C"> A) Par concassage de roches dures prélevées en carrière </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="B"> B) Par lavage des sables littoraux </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="A"> C) Par dragage dans les lits majeurs des rivières </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="D"> D) Par collecte dans des dépôts naturels </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les granulats massifs sont produits en concassant des blocs de roche solides extraits en carrière, un processus bien plus mécanisé que pour les granulats meubles.</p>
		</div>
        <div class="question-box" id="q18-box">
            <div class="question">18. Qu'est-ce que le laitier de haut-fourneau ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q18" value="D"> A) Une roche volcanique utilisée pour les fondations </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="C"> B) Un sous-produit de la production de fer dans les hauts-fourneaux </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="B"> C) Un matériau dérivé de la fusion de métaux </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="A"> D) Un type de sable utilisé dans la construction </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les laitiers de haut-fourneau proviennent directement des hauts-fourneaux, où ils sont produits lors de la transformation du minerai de fer. C'est un sous-produit de la production de fer dans les hauts-fourneaux, utilisé dans la construction, notamment comme granulat pour les bétons et enrobés. Les autres réponses sont incorrectes car elles ne décrivent pas précisément ce matériau.</p>
		</div>
        <div class="question-box" id="q19-box">
            <div class="question">19. Quelle est l'utilisation principale des laitiers de haut-fourneau ?</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q19" value="A"> A) La fabrication de ciment et de béton </label>
                <label><input type="checkbox" class="checkbox-margin" name="q19" value="C"> B) L'extraction de métaux précieux </label>
                <label><input type="checkbox" class="checkbox-margin" name="q19" value="B"> C) La production de verre </label>
                <label><input type="checkbox" class="checkbox-margin" name="q19" value="D"> D) L'utilisation comme granulat dans la construction et les enrobés </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Le laitier de haut-fourneau est principalement utilisé comme granulat dans les bétons, enrobés et autres matériaux de construction. Il peut aussi être utilisé dans la fabrication de ciment, mais son rôle principal est celui de granulat dans les bétons.</p>
		</div>
        <div class="question-box" id="q20-box">
            <div class="question">20. Pourquoi les laitiers de haut-fourneau sont-ils utilisés dans la construction ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q20" value="D"> A) Parce qu'ils sont inflammables et résistants à la chaleur </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="A"> B) Parce qu'ils sont légers et facilement transportables </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="C"> C) Parce qu'ils sont peu coûteux à produire </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="B"> D) Parce qu'ils possèdent des propriétés similaires à celles des granulats naturels, avec une bonne résistance mécanique </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les laitiers de haut-fourneau sont utilisés dans la construction en raison de leurs bonnes propriétés mécaniques, qui les rendent adaptés comme granulats. Ce n'est pas pour leur légèreté, leur coût ou leur résistance à la chaleur. Is peuvent être aussi utilisés comme matière première dans la fabrication du ciment</p>
		</div>
        <div class="question-box" id="q21-box">
            <div class="question">21. Quel est un avantage environnemental des laitiers de haut-fourneau ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q21" value="C"> A) Ils sont produits à partir de ressources renouvelables </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="B"> B) Ils permettent de recycler un sous-produit industriel </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="D"> C) Ils sont entièrement compostables et ne laissent aucun résidu </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="A"> D) Ils sont biodégradables et ne polluent pas l'environnement </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'avantage environnemental majeur des laitiers de haut-fourneau est leur recyclage en tant que sous-produit industriel. Cela contribue ainsi à la réduction des déchets et à la diminution de la demande pour l'extraction de granulats naturels. Les autres options sont incorrectes car elles ne décrivent pas un aspect réel du laitier.</p>
		</div>

        <div class="buttons">
            <button type="button" onclick="evaluateQCM()">Corriger</button>
            <button type="button" onclick="resetTest()">Recommencer</button>
        </div>

    </form>
    <p id="result"></p>
</div>

<footer>
    RocksandWalk - @ <script> document.write(new Date().getFullYear())</script> - Régis THIÉRY
</footer>

<script>
    function evaluateQCM() {
        const correctAnswers = {
            "q1": ["C"],
            "q2": ["B"],
            "q3": ["C"],
            "q4": ["B"],
            "q5": ["B"],
            "q6": ["C"],
            "q7": ["B"],
            "q8": ["B"],
            "q9": ["B"],
            "q10": ["B"],
            "q11": ["D", "B", "C"],
            "q12": ["C"],
            "q13": ["B", "A"],
            "q14": ["C"],
            "q15": ["A"],
            "q16": ["B"],
            "q17": ["C"],
            "q18": ["C"],
            "q19": ["A", "D"],
            "q20": ["B"],
            "q21": ["B"],
        };
        

        let score = 0;

        function generateFeedbackText(goodAnswers, goodCount, questionBox) {
            // Fonction utilitaire pour récupérer les 3 premières lettres d'une réponse
    
            function getAnswerLabel(value) {
                const label = questionBox.querySelector(`input[value="${value}"]`).parentNode;
                return label.textContent.trim().slice(0, 3); // Extrait les 3 premières lettres (ex: "A)")
            }

            if (goodAnswers.length === 0) {
                return "Pas de bonne réponse !";
            }

            const formattedAnswers = goodAnswers.map(answer => getAnswerLabel(answer));

            if (goodAnswers.length === 1) {
                return `${formattedAnswers[0]} est ${goodCount === 1 ? "la" : "une"} bonne réponse.`;
            }

            if (goodAnswers.length > 1) {
                return `${formattedAnswers.slice(0, -1).join(", ")} et ${formattedAnswers[formattedAnswers.length - 1]} sont de bonnes réponses.`;
            }

            return "";
            }


        for (let question in correctAnswers) {
            const selected = Array.from(document.querySelectorAll(`input[name="${question}"]:checked`)).map(e => e.value);
            const questionBox = document.getElementById(`${question}-box`);
            const correctOptions = correctAnswers[question];
            
            const goodAnswers = selected.filter(val => correctOptions.includes(val));
            let feedback = generateFeedbackText(goodAnswers, correctOptions.length, questionBox);

            let isCorrect = selected.length === correctOptions.length && correctOptions.every(option => selected.includes(option));
            questionBox.classList.toggle("correct", isCorrect);
            questionBox.classList.toggle("incorrect", !isCorrect);

            selected.forEach(val => {
                const optionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (correctOptions.includes(val)) {
                    optionLabel.style.fontWeight = "bold";
                } else {
                    optionLabel.classList.add("strikethrough");
                }
            });

            correctOptions.forEach(val => {
                const correctOptionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (!selected.includes(val)) {
                    correctOptionLabel.style.fontWeight = "bold";
                }
            });

            const correctAnswerLabel = questionBox.querySelector('.correct-answer');
            const feedbackLabel = questionBox.querySelector('.feedback');
            const commentBox = questionBox.querySelector('.comment');
            if (feedbackLabel) {
                feedbackLabel.style.display = 'block';
                feedbackLabel.innerHTML = feedback;
            }
            if (commentBox) {
                commentBox.style.display = 'block';
            }
           
            // Mappage des bonnes réponses avec les lettres (A, B, C, D)
            const correctAnswerLabels = correctOptions.map(val => {
                const label = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                const text = label.textContent.trim();
                return `${text}`;
                });


            let correctAnswerText = correctOptions.length === 1 
                ? `Bonne réponse : ${correctAnswerLabels.join("; ")}`
                : `Bonnes réponses : ${correctAnswerLabels.join("; ")}`;
            
            correctAnswerLabel.innerHTML = correctAnswerText;
            correctAnswerLabel.style.display = 'block';

            if (isCorrect) score+=goodAnswers.length;
        }

        const totalValues = Object.values(correctAnswers).reduce((acc, curr) => acc + curr.length, 0);
        const result = document.getElementById("result");

        if (score === 0) {
            result.textContent = `Vous n'avez obtenu aucune bonne réponse sur ${totalValues}.`;
        } else if (score === 1) {
            result.textContent = `Vous avez obtenu 1 bonne réponse sur ${totalValues}.`;
        } else {
            result.textContent = `Vous avez obtenu ${score} bonnes réponses sur ${totalValues}.`;
        }
    }

    function resetTest() {
        window.location.reload();
    }

    function openModal(imgElement) {
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");
        modal.style.display = "block";
        modalImg.src = imgElement.src;  // Utiliser l'image cliquée
    }

    function closeModal() {
        var modal = document.getElementById("imageModal");
        modal.style.display = "none";
    }

</script>




</body>
</html>
