<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM : QCM Matériaux de Carrière</title>
    <link rel="stylesheet" href="../../css/styleqcm1.css">
</head>
<body>

<div class="nav-buttons">
    <a href="../fiche01.html"   class="nav-button"  >Retour</a>
    <a href="qcm02.html" class="nav-button"  >Page précédente</a>
    <a href="qcm05.html" class="nav-button"  >Page suivante</a>
</div>

<div class="container">
    <h1>QCM : Matériaux de Carrière - Auto-évaluation</h1>
    <h2>Le ciment (2)</h2>
    <form id="qcm-form">
        <div class="question-box" id="q1-box">
            <div class="question">1. Quelle proportion des émissions mondiales de CO₂ est attribuable à l'industrie cimentière ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q1" value="C"> A) Environ 8 %   </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="A"> B) Environ 15 %   </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="B"> C) Environ 20 %   </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="D"> D) Moins de 1 %   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> L'estimation correcte est de 6 à 8 %. Les autres réponses surestiment ou sous-estiment l'impact réel de l'industrie cimentière.</div>
		</div>
        <div class="question-box" id="q2-box">
            <div class="question">2. Quelle est la quantité de ciment produite par an en France ?	</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q2" value="B"> A) Environ 60 millions de tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="D"> B) Environ 10 millions de tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="A"> C) Environ 20 millions de tonnes </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="C"> D) Environ 2 millions de tonnes </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Environ 20 millions de tonnes (chiffres de 2011), mais la production décline (16.7 Mt en 2022)</div>
		</div>
        <div class="question-box" id="q3-box">
            <div class="question">3. Quelle est la quantité de ciment produite par an dans le monde  ?	</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q3" value="A"> A) Environ 4 Gt </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="C"> B) Environ 10 Gt </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="D"> C) Environ 15 Gt </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="B"> D) Environ 1 Gt </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Environ 4 Gt (chiffres de 2022)</div>
		</div>
        <div class="question-box" id="q4-box">
            <div class="question">4. Sachant que la masse molaire du carbonate de calcium est de 100 g/mol, et celle du gaz carbonique est de 44	g/mol, quelle quantité de CO<sub>2</sub> libère la décarbonatation d'une tonne de CaCO<sub>3</sub> ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q4" value="D"> A) 4,4 kg de CO<sub>2</sub> </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="B"> B) 44 kg de CO<sub>2</sub> </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="C"> C) 4400 kg de CO<sub>2</sub> </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="A"> D) 440 kg de CO<sub>2</sub> </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La réaction de décarbonatation s'écrit CaCO<sub>3</sub>  →  CaO + CO<sub>2</sub>. Sur 100 g de CaCO<sub>3</sub>, la réaction produit 44 g de CO<sub>2</sub> et 56 g de CaO. Donc, une tonne de CaCO<sub>3</sub> libère 440 kg de CO<sub>2</sub></div>
		</div>
        <div class="question-box" id="q5-box">
            <div class="question">5. Donner un ordre de grandeur du nombre de kWh nécessaire pour chauffer une tonne de roches dans un four cimentier jusqu'à 1450°C (On prendra une capacité calorifique de l'ordre de 2 J/g/°C)</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q5" value="A"> A) 800 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="B"> B) 8 MWh </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="D"> C) 800 MWh </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="C"> D) 80 MWh </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Pour chauffer un gramme de roche d'environ 1400°C, il faut une énergie d'environ 1 g x 2 J/g/K x 1400 K ~ 2800 J/g ~ 3000 J/g ~ 3 kJ/g. Cela représente 3 MJ/kg, soit 0.8 kWh/kg. Pour une tonne de roches, on a donc besoin de 800 kWh.</div>
		</div>
        <div class="question-box" id="q6-box">
            <div class="question">6. Donner un ordre de grandeur de la masse de CO<sub>2</sub> libérée par la combustion d'un kWh de gaz naturel ? <em>(On prendra une valeur de 55 kJ/g pour la combustion de CH<sub>4</sub>) </em></div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q6" value="B"> A) 2 kg CO<sub>2</sub> / kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="C"> B) 800 kg CO<sub>2</sub> / kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="D"> C) 100 kg CO<sub>2</sub> / kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="A"> D) 200 g CO<sub>2</sub> / kWh </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Dans un m<sup>3</sup> de gaz, j'ai un nombre n de moles qui est égal à PV/RT = 1e5 x 1 / (8.31x300) ~ 40 mol. Soit une masse de 40 x 16 = 640 g. Soit une énergie de combustion 640 g x 55 kJ/g ~ 35 200 kJ ~ 35.2 MJ ~ 10 kWh par m<sup>3</sup> de gaz naturel. La combustion de ce m<sup>3</sup> va relâcher environ 3 fois plus en masse de CO<sub>2</sub> que de CH<sub>4</sub>, donc environ 2 kg de CO<sub>2</sub> pour 10 kWh. La combustion du CH<sub>4</sub> relâche donc environ 200 g de CO<sub>2</sub> par kWh.</div>
		</div>
        <div class="question-box" id="q7-box">
            <div class="question">7. En déduire un ordre de grandeur de la masse de CO<sub>2</sub> relâchée par la production de l'énergie nécessaire au chauffage d'une tonne de roches dans un four cimentier chauffé au gaz naturel.</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q7" value="D"> A) 10000 kg CO<sub>2</sub> / t </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="C"> B) 500 kg CO<sub>2</sub> / t </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="B"> C) 50 kg CO<sub>2</sub> / t </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="A"> D) 200 kg CO<sub>2</sub> / t </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Il faut 800 kWh/t de roches et on relâche 200 g de CO<sub>2</sub> par kWh. Cela fait donc 800 kWh x 0.2 kg/kWh = 160 kg CO<sub>2</sub>/ tonne de roches. Arrondissons à 200 kg CO<sub>2</sub> / t.</div>
		</div>
        <div class="question-box" id="q8-box">
            <div class="question">8. En déduire un ordre de grandeur de la quantité de CO<sub>2</sub> en kg relâchée par le traitement d'une tonne de roches pour la production	de ciment.</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q8" value="B"> A) 400 kg de CO<sub>2</sub> / t </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="A"> B) 600 kg de CO<sub>2</sub> / t </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="D"> C) 200 kg de CO<sub>2</sub> / t </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="C"> D) 1500 kg de CO<sub>2</sub> / t </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le traitement d'une tonne de roches (800 kg de CaCO<sub>3</sub> + 200 kg argiles) va relâcher 200 kg de CO<sub>2</sub> pour l'énergie de chauffage. À cela s'ajoute la masse de CO<sub>2</sub> relâchée par une tonne de CaCO<sub>3</sub>, soit 400 kg. En tout, l'ordre de grandeur est d'environ 600 kg de CO<sub>2</sub>.	</div>
		</div>
        <div class="question-box" id="q9-box">
            <div class="question">9. Quel est le constituant noble du clinker ?  </div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q9" value="A"> A) L'alite   </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="D"> B) L'argile   </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="C"> C) La calcite   </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="B"> D) Le gypse   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> L'alite est le constituant noble du clinker, un silicate tricalcique (Ca<sub>3</sub>SiO<sub>5</sub>) qui confère la résistance mécanique au ciment. Les autres propositions ne sont pas des phases principales du clinker.  </div>
		</div>
        <div class="question-box" id="q10-box">
            <div class="question">10. Qu'arrive-t-il au constituant C3S au contact de l'eau ?	</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q10" value="B"> A) Il se dissout sans réaction.   </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="D"> B) Il reste stable et ne réagit pas.   </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="C"> C) Il se transforme en gypse.   </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="A"> D) Il hydrate et forme des silicates de calcium hydratés et de la portlandite.   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Au contact de l'eau, le C3S (alite) hydrate pour former des silicates de calcium hydratés (CSH), responsables des propriétés mécaniques du ciment, et de la portlandite (Ca(OH)<sub>2</sub>). Les autres propositions sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q11-box">
            <div class="question">11. Qu'est-ce que l'on appelle les "cendres volantes" ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q11" value="D"> A) Des cendres produites lors de la fabrication du ciment.   </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="B"> B) Des particules de poussière volcanique.   </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="A"> C) Des résidus fins provenant de la combustion du charbon dans les centrales thermiques.   </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="C"> D) Des cendres issues de la combustion de déchets ménagers.   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les cendres volantes sont des résidus fins, riches en silice et alumine, provenant de la combustion du charbon dans les centrales thermiques. Elles sont souvent utilisées comme ajout cimentaire pour améliorer les propriétés du ciment. Les autres propositions sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q12-box">
            <div class="question">12. Qu'est-ce que la réaction pouzzolanique ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q12" value="B"> A) Une réaction entre la portlandite et l'eau </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="A"> B) Une réaction entre la portlandite et des composés alumino-siliceux réactifs ajoutés </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="C"> C) Une réaction entre les composés C3S et C2S du ciment avec l'eau </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="D"> D) Une réaction entre les composés C3S et C2S du ciment avec des matériaux alumino-siliceux ajoutés </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La réaction pouzzolanique est une réaction chimique où la portlandite (Ca(OH)<sub>2</sub>), produite par l'hydratation du clinker, réagit avec les composés siliceux ou alumineux des matériaux pouzzolaniques pour former des silicates de calcium hydratés (CSH), renforçant le béton. Les autres réponses sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q13-box">
            <div class="question">13. Pourquoi l'hydratation du clinker produit de la portlandite ? </div>
			<div class="image-container">
				<img class="question-image" src="images/e8.jpg" alt="Image pour la question 13" onclick="openModal(this);">
				<p class="image-caption">Cristaux de portlandite au MEB </p>
			</div>
			<div id="imageModal" class="modal">
			    <span class="close" onclick="closeModal()">&times;</span>
			    <img class="modal-content" id="modalImage">
			</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q13" value="C"> A) Parce que la portlandite est un sous-produit de la réaction avec les cendres volantes </label>
                <label><input type="radio" class="checkbox-margin" name="q13" value="D"> B) Parce que la portlandite est ajoutée au ciment pendant sa fabrication </label>
                <label><input type="radio" class="checkbox-margin" name="q13" value="B"> C) Parce que le clinker contient déjà de la portlandite sous forme solide </label>
                <label><input type="radio" class="checkbox-margin" name="q13" value="A"> D) Parce que les silicates de calcium du clinker libèrent de l'hydroxyde de calcium lors de leur hydratation   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> L'hydratation du clinker, en particulier des silicates tricalciques (C3S) et des silicates bicalciques (C2S), libère de l'hydroxyde de calcium (portlandite, Ca(OH)<sub>2</sub>) en plus des silicates de calcium hydratés (CSH). Les autres réponses sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q14-box">
            <div class="question">14. Pourquoi les cendres volantes améliorent les propriétés du ciment ?  </div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q14" value="C"> A) Elles remplacent le clinker sans interaction chimique avec les produits d'hydratation.   </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="B"> B) Elles accélèrent la prise initiale du ciment en augmentant la chaleur d'hydratation.   </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="D"> C) Elles augmentent simplement la masse du ciment sans modifier ses propriétés chimiques.   </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="A"> D) Elles réagissent avec la portlandite  </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les cendres volantes réagissent avec la portlandite (Ca(OH)<sub>2</sub>) libérée lors de l'hydratation du clinker pour former des hydrates (notamment des C-S-H) par la réaction pouzzolanique. Cela améliore la résistance mécanique, réduit la perméabilité et accroît la durabilité du béton. Les autres propositions sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q15-box">
            <div class="question">15. Quel est le constituant principal responsable des propriétés mécaniques du ciment après sa prise ?  </div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q15" value="D"> A) Les silicates de calcium, C3S et C2S </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="B"> B) La portlandite (Ca(OH)<sub>2</sub>) </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="C"> C) Le gypse (CaSO<sub>4</sub>)   </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="A"> D) Les silicates de calcium hydratés (CSH)   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les silicates de calcium hydratés (CSH) sont le principal constituant responsable des propriétés mécaniques du ciment après sa prise. Ils se forment lors de l'hydratation des silicates tricalciques (C3S) et bicalciques (C2S). Les autres propositions ne sont pas responsables des propriétés mécaniques après la prise.  </div>
		</div>
        <div class="question-box" id="q16-box">
            <div class="question">16. Est-ce que les silicates hydratés du ciment sont uniquement directement produits par l'hydratation de l'alite et de la belite ?	</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q16" value="A"> A) Non, ils peuvent aussi être formés par la réaction pouzzolanique impliquant des matériaux supplémentaires comme les cendres volantes.   </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="B"> B) Oui, ils sont exclusivement produits par l'hydratation de l'alite et de la belite.   </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="C"> C) Non, les silicates hydratés sont uniquement formés par des réactions avec le gypse.   </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="D"> D) Oui, mais uniquement dans des conditions sèches.   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les silicates hydratés du ciment, principalement responsables des propriétés mécaniques, sont principalement formés par l'hydratation de l'alite (C3S) et de la belite (C2S), mais ils peuvent aussi résulter de réactions pouzzolaniques, comme celle entre la portlandite et des matériaux comme les cendres volantes. Les autres propositions sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q17-box">
            <div class="question">17. Qu'est-ce qui rend les cendres volantes si réactives avec la portlandite ?	</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q17" value="B"> A) Leur capacité à absorber de l'eau, ce qui accélère la réaction   </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="A"> B) Leur forte teneur en silice et en alumine amorphes </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="D"> C) Leur composition chimique stable, qui ne permet aucune réaction </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="C"> D) Leur teneur élevée en oxyde de fer, qui catalyse la réaction  </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les cendres volantes sont riches en silice et en alumine sous forme amorphe (verre), ce qui les rend réactives avec la portlandite (Ca(OH)<sub>2</sub>) libérée lors de l'hydratation du clinker. Cette réaction forme des silicates de calcium hydratés (CSH), qui améliorent les propriétés du ciment. Les autres propositions sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q18-box">
            <div class="question">18. Pourquoi les pouzzolanes, découvertes par les Romains de l'Antiquité, sont si réactives avec la portlandite ?</div>
			<div class="image-container">
				<img class="question-image" src="images/e7.png" alt="Image pour la question 18" onclick="openModal(this);">
				<p class="image-caption">Composition des ciments, des cendres volantes, des laitiers de haut-fourneau et des pouzzolanes	</p>
			</div>
			<div id="imageModal" class="modal">
			    <span class="close" onclick="closeModal()">&times;</span>
			    <img class="modal-content" id="modalImage">
			</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q18" value="D"> A) Parce qu'elles sont riches en calcium, ce qui réagit directement avec la portlandite.   </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="A"> B) Parce qu'elles contiennent des silicates et des aluminates amorphes </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="B"> C) Parce qu'elles libèrent de l'acide silicique au contact de l'eau, accélérant la réaction </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="C"> D) Parce qu'elles contiennent des oxydes métalliques qui renforcent la structure du ciment   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les pouzzolanes, riches en silicates et aluminates amorphes, réagissent avec la portlandite (Ca(OH)<sub>2</sub>) libérée par l'hydratation du clinker pour former des silicates de calcium hydratés (CSH), améliorant la résistance et la durabilité du ciment. Les autres propositions sont incorrectes.  </div>
		</div>
        <div class="question-box" id="q19-box">
            <div class="question">19. Qu'est-ce que l'on appelle le laitier de haut-fourneau ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q19" value="D"> A) Un matériau constitué principalement de carbonate de calcium, utilisé dans la fabrication de chaux.   </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="B"> B) Un type de ciment utilisé pour la fabrication de béton à haute résistance.   </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="C"> C) Un sous-produit de la combustion de charbon dans les centrales thermiques.   </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="A"> D) Un sous-produit de la fusion du minerai de fer </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le laitier de haut-fourneau est un sous-produit de la fusion de minerais de fer dans les hauts-fourneaux. Il est riche en silicates et aluminates de calcium et est utilisé comme ajout cimentaire pour améliorer les propriétés du béton grâce à la réaction pouzzolanique. Les autres propositions sont incorrectes.	</div>
		</div>
        <div class="question-box" id="q20-box">
            <div class="question">20. Quelles sont les réactions chimiques qui décrivent la prise du ciment par hydratation ?  </div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q20" value="D"> A) C3S + 2H<sub>2</sub>O → CSH + 2Ca(OH)<sub>2</sub>   </label>
                <label><input type="checkbox" class="checkbox-margin" name="q20" value="E"> B) C3S + H<sub>2</sub>O + CO<sub>2</sub> → CSH + 2 CaCO<sub>3</sub>   </label>
                <label><input type="checkbox" class="checkbox-margin" name="q20" value="C"> C) C2S + 2H<sub>2</sub>O → CSH + Ca(OH)<sub>2</sub>   </label>
                <label><input type="checkbox" class="checkbox-margin" name="q20" value="B"> D) Ca(OH)<sub>2</sub>   + SiO<sub>2</sub> → CSH </label>
                <label><input type="checkbox" class="checkbox-margin" name="q20" value="A"> E) C3S + 3H<sub>2</sub>O → CSH + 2Ca(OH)<sub>2</sub>   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> L'hydratation du ciment commence par la réaction du C3S (alite) avec l'eau, formant des silicates de calcium hydratés (CSH) et de la portlandite (Ca(OH)<sub>2</sub>). La belite (C2S) réagit également avec l'eau, mais de manière plus lente, produisant également du CSH et de la portlandite. La réaction Ca(OH)<sub>2</sub>   + SiO<sub>2</sub> → CSH est la réaction pouzzolanique.</div>
		</div>

        <div class="buttons">
            <button type="button" onclick="evaluateQCM()">Corriger</button>
            <button type="button" onclick="resetTest()">Recommencer</button>
        </div>

    </form>
    <p id="result"></p>
</div>

<footer>
    GeoCool - @ <script> document.write(new Date().getFullYear())</script> - Régis THIÉRY
</footer>

<script>
    function evaluateQCM() {
        const correctAnswers = {
            "q1": ["C"],
            "q2": ["A"],
            "q3": ["A"],
            "q4": ["A"],
            "q5": ["A"],
            "q6": ["A"],
            "q7": ["A"],
            "q8": ["A"],
            "q9": ["A"],
            "q10": ["A"],
            "q11": ["A"],
            "q12": ["A"],
            "q13": ["A"],
            "q14": ["A"],
            "q15": ["A"],
            "q16": ["A"],
            "q17": ["A"],
            "q18": ["A"],
            "q19": ["A"],
            "q20": ["C", "B", "A"],
        };
        

        let score = 0;

        function generateFeedbackText(goodAnswers, goodCount, questionBox) {
            // Fonction utilitaire pour récupérer les 3 premières lettres d'une réponse
    
            function getAnswerLabel(value) {
                const label = questionBox.querySelector(`input[value="${value}"]`).parentNode;
                return label.textContent.trim().slice(0, 3); // Extrait les 3 premières lettres (ex: "A)")
            }

            if (goodAnswers.length === 0) {
                return "Pas de bonne réponse !";
            }

            const formattedAnswers = goodAnswers.map(answer => getAnswerLabel(answer));

            if (goodAnswers.length === 1) {
                return `${formattedAnswers[0]} est ${goodCount === 1 ? "la" : "une"} bonne réponse.`;
            }

            if (goodAnswers.length > 1) {
                return `${formattedAnswers.slice(0, -1).join(", ")} et ${formattedAnswers[formattedAnswers.length - 1]} sont de bonnes réponses.`;
            }

            return "";
            }


        for (let question in correctAnswers) {
            const selected = Array.from(document.querySelectorAll(`input[name="${question}"]:checked`)).map(e => e.value);
            const questionBox = document.getElementById(`${question}-box`);
            const correctOptions = correctAnswers[question];
            
            const goodAnswers = selected.filter(val => correctOptions.includes(val));
            let feedback = generateFeedbackText(goodAnswers, correctOptions.length, questionBox);

            let isCorrect = selected.length === correctOptions.length && correctOptions.every(option => selected.includes(option));
            questionBox.classList.toggle("correct", isCorrect);
            questionBox.classList.toggle("incorrect", !isCorrect);

            selected.forEach(val => {
                const optionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (correctOptions.includes(val)) {
                    optionLabel.style.fontWeight = "bold";
                } else {
                    optionLabel.classList.add("strikethrough");
                }
            });

            correctOptions.forEach(val => {
                const correctOptionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (!selected.includes(val)) {
                    correctOptionLabel.style.fontWeight = "bold";
                }
            });

            const correctAnswerLabel = questionBox.querySelector('.correct-answer');
            const feedbackLabel = questionBox.querySelector('.feedback');
            const commentBox = questionBox.querySelector('.comment');
            if (feedbackLabel) {
                feedbackLabel.style.display = 'block';
                feedbackLabel.innerHTML = feedback;
            }
            if (commentBox) {
                commentBox.style.display = 'block';
            }
           
            // Mappage des bonnes réponses avec les lettres (A, B, C, D)
            const correctAnswerLabels = correctOptions.map(val => {
                const label = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                const text = label.textContent.trim();
                return `${text}`;
                });


            let correctAnswerText = correctOptions.length === 1 
                ? `Bonne réponse : ${correctAnswerLabels.join("; ")}`
                : `Bonnes réponses : ${correctAnswerLabels.join("; ")}`;
            
            correctAnswerLabel.innerHTML = correctAnswerText;
            correctAnswerLabel.style.display = 'block';

            if (isCorrect) score+=goodAnswers.length;
        }

        const totalValues = Object.values(correctAnswers).reduce((acc, curr) => acc + curr.length, 0);
        const result = document.getElementById("result");

        if (score === 0) {
            result.textContent = `Vous n'avez obtenu aucune bonne réponse sur ${totalValues}.`;
        } else if (score === 1) {
            result.textContent = `Vous avez obtenu 1 bonne réponse sur ${totalValues}.`;
        } else {
            result.textContent = `Vous avez obtenu ${score} bonnes réponses sur ${totalValues}.`;
        }
    }

    function resetTest() {
        window.location.reload();
    }

    function openModal(imgElement) {
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");
        modal.style.display = "block";
        modalImg.src = imgElement.src;  // Utiliser l'image cliquée
    }

    function closeModal() {
        var modal = document.getElementById("imageModal");
        modal.style.display = "none";
    }

</script>




</body>
</html>
