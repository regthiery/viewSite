<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM : QCM Géothermie</title>
    <link rel="stylesheet" href="../../css/styleqcm1.css">
</head>
<body>

<div class="nav-buttons">
    <a href="../fiche01.html"   class="nav-button"  >Retour</a>
    <a href="" class="nav-button"  disabled>Page précédente</a>
    <a href="qcm02.html" class="nav-button"  >Page suivante</a>
</div>

<div class="container">
    <h1>QCM : Géothermie - Auto-évaluation</h1>
    <h2>De l'énergie sortie des profondeurs</h2>
    <form id="qcm-form">
        <div class="question-box" id="q1-box">
            <div class="question">1. Quel est le flux géothermique moyen de la Terre ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q1" value="D"> A) 1 mW/m2 </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="C"> B) 1 W/m2 </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="B"> C) 200 mW/m2 </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="A"> D) 80 mW/m2 </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le flux géothermique moyen de la Terre est d'environ 80 mW/m², ce qui correspond à la quantité de chaleur s'échappant de l'intérieur de la Terre par unité de surface. </div>
		</div>
        <div class="question-box" id="q2-box">
            <div class="question">2. Au total, cela représente une puissance thermique de combien à l'échelle de la Terre ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q2" value="C"> A) 40 MW </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="A"> B) 40 TW </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="B"> C) 40 GW </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="D"> D) 40 PW </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La puissance thermique totale générée par le flux géothermique à l'échelle de la Terre est d'environ 40 TW (terawatts), ce qui correspond à l'énergie libérée par la chaleur interne de la planète à travers sa surface. Cette énergie est bien plus importante que celle utilisée par les activités humaines à l'échelle mondiale.</div>
		</div>
        <div class="question-box" id="q3-box">
            <div class="question">3. Quelle est la valeur moyenne du gradient géothermique dans la croûte terrestre ?  </div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q3" value="D"> A) 50°C/km   </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="C"> B) 1°C/km   </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="B"> C) 100°C/km   </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="A"> D) 25-35°C/km   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le gradient géothermique moyen est d'environ 25-35°C par kilomètre de profondeur, ce qui représente l'augmentation de la température avec la profondeur dans la croûte terrestre. Cette valeur est assez variable (10 à 50°C/km) en fonction des conditions géologiques</div>
		</div>
        <div class="question-box" id="q4-box">
            <div class="question">4. Quelle est la valeur moyenne du gradient géothermique dans l'asthénosphère ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q4" value="C"> A) 30°C/km </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="A"> B) 0.3°C / km </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="B"> C) 3°C/km </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="D"> D) 60°C/km </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le gradient géothermique dans l'asthénosphère est généralement faible, autour de 0.3°C/km.</div>
		</div>
        <div class="question-box" id="q5-box">
            <div class="question">5. Qu'indique la valeur du gradient géothermique dans l'asthénophère sur le mode de transfert thermique qui s'y exerce ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q5" value="B"> A) Un mode de transfert thermique par conduction </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="D"> B) Un mode de transfert thermique par advection </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="A"> C) Une mode de transfert thermique par convection </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="C"> D) Un mode de transfert thermique par radiation </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La faible valeur du gradient géothermique dans l'asthénosphère indique un mode de transfert thermique par convection, où la chaleur est transportée par le mouvement des roches mantelliques</div>
		</div>
        <div class="question-box" id="q6-box">
            <div class="question">6. Sur le flux géothermique terrestre mesuré en moyenne à la surface, quelles sont les proportions relatives de la croûte et du manteau ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q6" value="C"> A) 90 % croûte - 10 % manteau </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="B"> B) 10 % croûte - 90 % manteau </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="D"> C) 75 % croûte - 25 % manteau </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="A"> D) 50 % croûte - 50 % manteau </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> En moyenne, le flux géothermique mesuré à la surface terrestre provient pour environ 50 % de la croûte et pour 50 % du manteau. La croûte contribue au flux par la désintégration des éléments radioactifs qu'elle contient, tandis que le manteau participe via la dissipation de chaleur résiduelle ou produite les couches profondes de la Terre.	</div>
		</div>
        <div class="question-box" id="q7-box">
            <div class="question">7. En quelle unité se mesure la conductivité thermique d'une roche ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q7" value="D"> A) W . m / K </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="B"> B) J/m/K </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="A"> C) W/m/K </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="C"> D) W/m<sup>2</sup>/K </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La conductivité thermique d'une roche se mesure en watts par mètre par kelvin (W/m/K). Cette unité exprime la capacité d'un matériau à conduire la chaleur, indiquant la quantité de chaleur transférée par unité de longueur et de différence de température.</div>
		</div>
        <div class="question-box" id="q8-box">
            <div class="question">8. Quelle est la relation qui relie le flux géothermique d'une part, et la conductivité thermique et le gradient géothermique d'autre part ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q8" value="D"> A) Le flux géothermique est le rapport du gradient géothermique par la conductivité thermique. </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="C"> B) Le flux géothermique est le rapport de la conductivité par le gradient géothermique. </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="B"> C) Le flux géothermique est la somme de la conductivité par le gradient géothermique. </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="A"> D) Le flux géothermique est le produit de la conductivité par le gradient géothermique. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le flux géothermique est calculé comme le produit de la conductivité thermique et du gradient géothermique. Cette relation, exprimée par la formule <em>q = k × ∇T</em>, où <em>q</em> représente le flux géothermique, <em>k</em> la conductivité thermique, et <em>∇T</em> le gradient géothermique.	</div>
		</div>
        <div class="question-box" id="q9-box">
            <div class="question">9. En déduire une conductivité thermique moyenne des roches dans la croûte terrestre ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q9" value="A"> A) 3 W/m/K </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="C"> B) 0.1 W/m/K </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="B"> C) 10 W/m/K  </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="D"> D) 0.3 W/m/K </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La conductivité thermique moyenne des roches dans la croûte terrestre est d'environ 3 W/m/K. Cette valeur reflète la capacité de la croûte terrestre à conduire la chaleur, bien que cette conductivité puisse varier en fonction de la composition minéralogique des roches.</div>
		</div>
        <div class="question-box" id="q10-box">
            <div class="question">10. Quelle est la source de chaleur principale dans la croûte terrestre ?  </div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q10" value="B"> A) Le rayonnement solaire   </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="D"> B) Les réactions chimiques entre minéraux   </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="C"> C) La chaleur résiduelle de la formation de la Terre   </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="A"> D) La désintégration des éléments radioactifs   </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La principale source de chaleur dans la croûte terrestre est la désintégration des éléments radioactifs, tels que l'uranium, le thorium et le potassium. Cette désintégration libère de l'énergie sous forme de chaleur, contribuant au flux géothermique observé à la surface.</div>
		</div>
        <div class="question-box" id="q11-box">
            <div class="question">11. À partir de la question précédente, peut-on déterminer la puissance thermique d'un kg de granite ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q11" value="A"> A) 0.6 nW </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="C"> B) 6 mW </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="D"> C) 6 nW </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="B"> D) 6 µW </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Sur un m<sup>2</sup> de surface qui produit 100 mW, la moitié provient de la désintégration de noyaux radioactifs, soit 50 mW. Cette chaleur a été produite par un volume de 30 000 m<sup>3</sup>. La roche a une masse volumique de 2700 kg/m<sup>3</sup>. En divisant la puissance thermique par la masse de roche par m<sup>2</sup>, cela nous donne 0.6 nW/kg de roche. Dans ces calculs, on suppose que la colonne de roches est en régime permanent stable et bien sûr, que la chaleur s'évacue vers le haut.</div>
		</div>
        <div class="question-box" id="q12-box">
            <div class="question">12. En déduire la puissance thermique d'un pluton de 1 km<sup>3</sup> de roches. </div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q12" value="B"> A) 1.6 W </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="C"> B) 1.6 MW </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="D"> C) 1.6 GW </label>
                <label><input type="radio" class="checkbox-margin" name="q12" value="A"> D) 1600 W </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> On obtient une valeur de 1600 W par ce calcul 0.6e-9*2700*1e9 = 1600, c'est-à-dire W/kg x kg/m3 x m3</div>
		</div>
        <div class="question-box" id="q13-box">
            <div class="question">13. Estimer la quantité d'eau qui s'infiltre par m2 et par an et qui peut être réchauffé de 0 à 50°C avant de sortir par une source chaude. On suppose que cette eau percole jusqu'à une profondeur de 1 km. On prendra une valeur de 1 nW/kg pour le granite.</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q13" value="A"> A) 0.5 l/m<sup>2</sup>/an </label>
                <label><input type="radio" class="checkbox-margin" name="q13" value="D"> B) 0.05 l/m<sup>2</sup>/an </label>
                <label><input type="radio" class="checkbox-margin" name="q13" value="B"> C) 5 l/m<sup>2</sup>/an </label>
                <label><input type="radio" class="checkbox-margin" name="q13" value="C"> D) 50 l/m<sup>2</sup>/an </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Une colonne de granite de 1 m<sup>2</sup>	de surface et de 1000 m d'épaisseur a une puissance chauffante de 1*1000*2700*1e-9 ~ 0.003 W/kg. Pour chauffer un litre d'eau de 0 à 50°C, il faut une énergie de 1*4200*50 = 2.1e5 J Une année compte 365*24*3600 seconde. Donc le volume d'eau que je peux faire chauffer par le granite est 0.003*24*365*3600 / 2.1e5 ~ 0.45 l</div>
		</div>
        <div class="question-box" id="q14-box">
            <div class="question">14. Au regard de calcul et compte tenu des besoins en eau chaude sanitaire et chauffage, est-ce que la géothermie peut être qualifiée d'énergie renouvelable ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q14" value="B"> A) Oui </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="A"> B) Non </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Sous réserve que cela soit possible, 100 m2 de terrain	fournirait seulement une quantité de 50 litre d'eau chaude par an, ce qui est notoirement insuffisant pour assurer les besoins en eau chaude d'un français moyen.</div>
		</div>
        <div class="question-box" id="q15-box">
            <div class="question">15. En ordre, la capacité calorique massique d'une roche comme le granite est :</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q15" value="C"> A) similaire à celle de l'eau liquide </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="B"> B) 5 fois plus forte que celle de l'eau liquide </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="D"> C) 2 fois plus faible que celle de l'eau liquide </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="A"> D) 5 fois plus faible que celle de l'eau liquide </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La capacité calorifique massique d'une roche comme le granite est environ 5 fois plus faible que celle de l'eau liquide. En effet, la capacité thermique de l'eau est exceptionnellement élevée par rapport à celle des roches, ce qui permet à l'eau d'absorber et de stocker plus de chaleur pour une même quantité de masse.</div>
		</div>
        <div class="question-box" id="q16-box">
            <div class="question">16. Quelle est la valeur de la capacité calorifique massique de l'eau ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q16" value="C"> A) 41.85 J/g/K </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="B"> B) 4185 J/g/K </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="D"> C) 418.5 J/g/K </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="A"> D) 4.185 J/g/K </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La capacité calorifique massique de l'eau est de 4.185 J/g/K. Elle est élevée par rapport à celle de la plupart des solides, ce qui signifie que l'eau peut absorber ou libérer une grande quantité de chaleur avec un faible changement de température.</div>
		</div>
        <div class="question-box" id="q17-box">
            <div class="question">17. En considérant une capacité calorifique massique de 1 J/g/K pour le granite, quelle est la quantité de chaleur récupérable en kWh d'un m<sup>3</sup> de granite quand sa température baisse de 10°C ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q17" value="A"> A) Environ 40 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="D"> B) Environ 0.4 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="B"> C) Environ 4 kWh  </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="C"> D) Environ 400 kWh </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Cette quantité de chaleur se calcule par la formule m x c<sub>p</sub> x delta T, soit 2700 * 1000 * 50 = 1.35e8 J, c'est-à-dire 37 kWh.	</div>
		</div>
        <div class="question-box" id="q18-box">
            <div class="question">18. Selon l'ADEME, quel est le volume d'Eau Chaude Sanitaire (ECS) consommé par jour par un français moyen ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q18" value="D"> A) 200 litres par jour </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="C"> B) 100 litres par jour </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="B"> C) 10 litres par jour  </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="A"> D) 50 litres par jour </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> D'après l'ADEME, un Français consomme en moyenne 50 litres d'eau chaude sanitaire par jour, principalement pour les usages domestiques tels que la douche, la vaisselle et le lavage des mains.</div>
		</div>
        <div class="question-box" id="q19-box">
            <div class="question">19. Combien de kWh sont nécessaires pour chauffer un litre d'eau de 10°C à 50°C ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q19" value="D"> A) Environ 1 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="A"> B) Environ 0.05 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="B"> C) Environ 0.5 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="C"> D) Environ 5 kWh </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Pour chauffer un litre d'eau de 10°C à 50°C, environ 0.05 kWh sont nécessaires, en tenant compte de la capacité calorifique massique de l'eau (4.185 J/g/K) et du changement de température (40°C).</div>
		</div>
        <div class="question-box" id="q20-box">
            <div class="question">20. Quels sont les besoins énergétiques moyens et journaliers de l'ECS par personne ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q20" value="C"> A) Environ 5 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="A"> B) Environ 2.5 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="B"> C) Environ 1 kWh </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="D"> D) Environ 0.5 kWh </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> En moyenne, les besoins en énergie pour l'eau chaude sanitaire (ECS) s'élèvent à environ 2.5 kWh par jour et par personne ( = 0.05 kWh / litre x 50 litres), selon les données de consommation standard et en fonction de la température de chauffe requise.</div>
		</div>
        <div class="question-box" id="q21-box">
            <div class="question">21. En ordre de grandeur, quel est le prix TTC du kWh de gaz, hors abonnement ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q21" value="C"> A) Entre 0.30 et 0.35 € </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="D"> B) Entre 0.06 et 0.10 € </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="A"> C) Entre 0.11 et 0.14 € </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="B"> D) Entre 0.22 et 0.24 € </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Le prix TTC du kWh de gaz (hors abonnement) pour les particuliers en France varie généralement entre 0.11 et 0.14 €, en fonction des fournisseurs et des zones géographiques.	</div>
		</div>
        <div class="question-box" id="q22-box">
            <div class="question">22. Quelle est la facture énergétique moyenne annuelle d'un résident en ECS ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q22" value="B"> A) Environ 200 € / an </label>
                <label><input type="radio" class="checkbox-margin" name="q22" value="A"> B) Environ 100 € / an </label>
                <label><input type="radio" class="checkbox-margin" name="q22" value="D"> C) Environ 500 € / an </label>
                <label><input type="radio" class="checkbox-margin" name="q22" value="C"> D) Environ 50 € / an </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La facture moyenne annuelle pour l'eau chaude sanitaire (ECS) en France est d'environ 100 € ( = 0.12 €/kWh x 2.5 kWh/j x 365 j/an ), en fonction des besoins individuels et des sources d'énergie utilisées pour chauffer l'eau.</div>
		</div>
        <div class="question-box" id="q23-box">
            <div class="question">23. Combien de m<sup>3</sup> de granites sont nécessaires pour assurer les besoins énergétiques en ECS d'un français moyen par an ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q23" value="D"> A)  </label>
                <label><input type="radio" class="checkbox-margin" name="q23" value="B"> B)  </label>
                <label><input type="radio" class="checkbox-margin" name="q23" value="C"> C)  </label>
                <label><input type="radio" class="checkbox-margin" name="q23" value="A"> D)  </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> Les besoins énergétiques annuels se montent à environ 1000 kWh/an/personne en ECS. Un m<sup>3</sup> de granite fournit 4 kWh par °C, soit 40 kWh pour une baisse de 10°C de la température du granite. Il faut donc exploiter les ressources géothermiques d'environ 25 m<sup>3</sup> de granite par personne et par an.</div>
		</div>
        <div class="question-box" id="q24-box">
            <div class="question">24. Au vu des questions précédentes, utiliser la géothermie, c'est</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q24" value="D"> A) exploiter une ressource d'énergie propre </label>
                <label><input type="radio" class="checkbox-margin" name="q24" value="A"> B) exploiter un gisement de calories dans le sous-sol </label>
                <label><input type="radio" class="checkbox-margin" name="q24" value="C"> C) exploiter une ressource d'énergie facilement mobilisable </label>
                <label><input type="radio" class="checkbox-margin" name="q24" value="B"> D) exploiter une ressource d'énergie renouvelable </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<div class='comment' style='display:none;'><strong>Commentaire:</strong> La géothermie revient à exploiter un gisement de calories stockées dans le sous-sol. Comme le taux d'exploitation est supérieur au taux de renouvellement de la ressource calorifique, la géothermie n'est pas une énergie renouvelable. Par ailleurs, elle n'est ni propre, ni facile à exploiter.</div>
		</div>

        <div class="buttons">
            <button type="button" onclick="evaluateQCM()">Corriger</button>
            <button type="button" onclick="resetTest()">Recommencer</button>
        </div>

    </form>
    <p id="result"></p>
</div>

<footer>
    RocksandWalk - @ <script> document.write(new Date().getFullYear())</script> - Régis THIÉRY
</footer>

<script>
    function evaluateQCM() {
        const correctAnswers = {
            "q1": ["A"],
            "q2": ["A"],
            "q3": ["A"],
            "q4": ["A"],
            "q5": ["A"],
            "q6": ["A"],
            "q7": ["A"],
            "q8": ["A"],
            "q9": ["A"],
            "q10": ["A"],
            "q11": ["A"],
            "q12": ["A"],
            "q13": ["A"],
            "q14": ["A"],
            "q15": ["A"],
            "q16": ["A"],
            "q17": ["A"],
            "q18": ["A"],
            "q19": ["A"],
            "q20": ["A"],
            "q21": ["A"],
            "q22": ["A"],
            "q23": ["A"],
            "q24": ["A"],
        };
        

        let score = 0;

        function generateFeedbackText(goodAnswers, goodCount, questionBox) {
            // Fonction utilitaire pour récupérer les 3 premières lettres d'une réponse
    
            function getAnswerLabel(value) {
                const label = questionBox.querySelector(`input[value="${value}"]`).parentNode;
                return label.textContent.trim().slice(0, 3); // Extrait les 3 premières lettres (ex: "A)")
            }

            if (goodAnswers.length === 0) {
                return "Pas de bonne réponse !";
            }

            const formattedAnswers = goodAnswers.map(answer => getAnswerLabel(answer));

            if (goodAnswers.length === 1) {
                return `${formattedAnswers[0]} est ${goodCount === 1 ? "la" : "une"} bonne réponse.`;
            }

            if (goodAnswers.length > 1) {
                return `${formattedAnswers.slice(0, -1).join(", ")} et ${formattedAnswers[formattedAnswers.length - 1]} sont de bonnes réponses.`;
            }

            return "";
            }


        for (let question in correctAnswers) {
            const selected = Array.from(document.querySelectorAll(`input[name="${question}"]:checked`)).map(e => e.value);
            const questionBox = document.getElementById(`${question}-box`);
            const correctOptions = correctAnswers[question];
            
            const goodAnswers = selected.filter(val => correctOptions.includes(val));
            let feedback = generateFeedbackText(goodAnswers, correctOptions.length, questionBox);

            let isCorrect = selected.length === correctOptions.length && correctOptions.every(option => selected.includes(option));
            questionBox.classList.toggle("correct", isCorrect);
            questionBox.classList.toggle("incorrect", !isCorrect);

            selected.forEach(val => {
                const optionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (correctOptions.includes(val)) {
                    optionLabel.style.fontWeight = "bold";
                } else {
                    optionLabel.classList.add("strikethrough");
                }
            });

            correctOptions.forEach(val => {
                const correctOptionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (!selected.includes(val)) {
                    correctOptionLabel.style.fontWeight = "bold";
                }
            });

            const correctAnswerLabel = questionBox.querySelector('.correct-answer');
            const feedbackLabel = questionBox.querySelector('.feedback');
            const commentBox = questionBox.querySelector('.comment');
            if (feedbackLabel) {
                feedbackLabel.style.display = 'block';
                feedbackLabel.innerHTML = feedback;
            }
            if (commentBox) {
                commentBox.style.display = 'block';
            }
           
            // Mappage des bonnes réponses avec les lettres (A, B, C, D)
            const correctAnswerLabels = correctOptions.map(val => {
                const label = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                const text = label.textContent.trim();
                return `${text}`;
                });


            let correctAnswerText = correctOptions.length === 1 
                ? `Bonne réponse : ${correctAnswerLabels.join("; ")}`
                : `Bonnes réponses : ${correctAnswerLabels.join("; ")}`;
            
            correctAnswerLabel.innerHTML = correctAnswerText;
            correctAnswerLabel.style.display = 'block';

            if (isCorrect) score+=goodAnswers.length;
        }

        const totalValues = Object.values(correctAnswers).reduce((acc, curr) => acc + curr.length, 0);
        const result = document.getElementById("result");

        if (score === 0) {
            result.textContent = `Vous n'avez obtenu aucune bonne réponse sur ${totalValues}.`;
        } else if (score === 1) {
            result.textContent = `Vous avez obtenu 1 bonne réponse sur ${totalValues}.`;
        } else {
            result.textContent = `Vous avez obtenu ${score} bonnes réponses sur ${totalValues}.`;
        }
    }

    function resetTest() {
        window.location.reload();
    }

    function openModal(imgElement) {
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");
        modal.style.display = "block";
        modalImg.src = imgElement.src;  // Utiliser l'image cliquée
    }

    function closeModal() {
        var modal = document.getElementById("imageModal");
        modal.style.display = "none";
    }

</script>




</body>
</html>
