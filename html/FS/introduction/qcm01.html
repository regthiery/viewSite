<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM : QCM Formations Superficielles</title>
    <link rel="stylesheet" href="../../css/styleqcm1.css">
</head>
<body>

<div class="nav-buttons">
    <a href="../fiche01.html"   class="nav-button"  >Retour</a>
    <a href="" class="nav-button"  disabled>Page précédente</a>
    <a href="" class="nav-button"  disabled>Page suivante</a>
</div>

<div class="container">
    <h1>QCM : Formations Superficielles - Auto-évaluation</h1>
    <h2>Notre environnement et les formations superficielles</h2>
    <form id="qcm-form">
        <div class="question-box" id="q6-box">
            <div class="question">1. Dans l'intensité des échanges de surface, quel paramètre est le plus important ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q6" value="A"> A) La masse </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="B"> B) Le volume </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="C"> C) La surface </label>
                <label><input type="radio" class="checkbox-margin" name="q6" value="D"> D) La surface spécifique </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> La surface spécifique, c’est-à-dire la surface par unité de masse ou de volume, est cruciale pour les échanges en surface. Plus elle est grande, plus elle facilite les réactions chimiques, l'adsorption des nutriments, et les interactions entre les composants des sols et les fluides environnants. Les formations superficielles représentent une très faible proportion de la masse totale de la Terre, mais elles possèdent une surface externe extrêmement étendue. Cette grande surface externe par rapport à leur volume leur confère une importance majeure dans les échanges de matière et d’énergie. En effet, leur vaste surface favorise les interactions chimiques, biologiques et physiques avec l’atmosphère, l’hydrosphère et la biosphère, jouant ainsi un rôle clé dans les flux terrestres et les cycles biogéochimiques.</p>
		</div>
        <div class="question-box" id="q4-box">
            <div class="question">2. Quelles sont les cinq « sphères » qui interagissent à la surface de la Terre selon les géochimistes  ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q4" value="C"> A) Atmosphère, lithosphère, biosphère, technosphère, magmasphère </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="A"> B) Atmosphère, lithosphère, hydrosphère, cryosphère, biosphère </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="B"> C) Stratosphère, lithosphère, hydrosphère, cryosphère, géosphère </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="D"> D) Troposphère, hydrosphère, lithosphère, atmosphère, sociosphère </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Ces cinq sphères représentent les principaux réservoirs et forment des interfaces actives à la surface de la planète. Chacune participe aux échanges chimiques, physiques et biologiques qui influencent le climat, la biodiversité, et les ressources naturelles.</p>
		</div>
        <div class="question-box" id="q2-box">
            <div class="question">3. Quel est l'objectif de cette série de cours ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q2" value="C"> A) Comprendre comment la surface des continents est constituée et façonnée </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="A"> B) Comprendre les fondements de la géologie marine </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="B"> C) Étudier la structure interne de la Terre </label>
                <label><input type="radio" class="checkbox-margin" name="q2" value="D"> D) Explorer les bases de la météorologie </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Cette série de cours vise à explorer les processus géologiques de surface, en particulier la formation et la transformation des matériaux continentaux (altération et érosion), pour mieux comprendre comment ils influencent notre environnement.</p>
		</div>
        <div class="question-box" id="q1-box">
            <div class="question">4. Quand on parle de "formations superficielles" en géologie, on fait généralement référence:</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q1" value="D"> A) à la couverture végétale (forêts, prairies, etc) recouvrant les sols. </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="A"> B) à toutes les formations non rocheuses présentes en surface de la Terre (océans, rivières, glaciers, etc) </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="C"> C) à des sols imperméabilisées et artificiels, produits par les activités humaines (comme les villes ou les routes, etc). </label>
                <label><input type="radio" class="checkbox-margin" name="q1" value="B"> D) à de roches altérées et masquées par la végétation. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les formations superficielles incluent des matériaux d'origine géologique modifiés par les processus d'altération et d'érosion. Elles se situent en surface, au-dessus du substrat rocheux, et peuvent être partiellement recouvertes de végétation.</p>
		</div>
        <div class="question-box" id="q7-box">
            <div class="question">5. Le terme « affleurement » n'est pas toujours bien compris par le grand public, mais que signifie-t-il en géologie ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q7" value="A"> A) Un massif de fleurs </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="D"> B) L'entrée d'une cave ou d'une galerie de mine </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="C"> C) Une roche visible en surface </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="B"> D) Une source, une émergence ou une remontée d'eau souterraine </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Un affleurement est une portion de roche naturelle exposée à la surface terrestre. Les géologues l'étudient pour comprendre la structure, la composition et l'histoire géologique des formations sous-jacentes sans avoir besoin de creuser.</p>
		</div>
        <div class="question-box" id="q8-box">
            <div class="question">6. Pourquoi est-il nécessaire de s’adapter en utilisant un langage clair lors de discussions avec des non-spécialistes ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q8" value="A"> A) Pour éviter d’utiliser des termes trop techniques </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="D"> B) Pour ne pas perdre son temps avec des non-spécialistes </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="C"> C) Pour éviter d’offenser les experts </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="B"> D) Parce que tout le monde connaît les termes géologiques </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> En géologie comme dans d’autres domaines scientifiques, il est important de simplifier le langage pour rendre les informations accessibles. Cela permet de mieux communiquer les enjeux et les concepts géologiques à un public non expert et de favoriser la compréhension et l’intérêt pour le sujet.</p>
		</div>
        <div class="question-box" id="q5-box">
            <div class="question">7. Quel est le rôle des formations superficielles malgré leur faible épaisseur ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q5" value="C"> A) Elles influencent fortement les échanges en surface et l’environnement </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="A"> B) Elles représentent une faible importance pour l’environnement </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="B"> C) Elles n’ont pas d’impact significatif sur les processus de surface </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="D"> D) Elles ne participent pas aux échanges entre les réservoirs terrestres </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Bien qu'elles soient minces, les formations superficielles jouent un rôle critique en abritant des processus chimiques et biologiques. Elles favorisent les échanges d’eau, de gaz et de nutriments, impactant ainsi les sols, la biodiversité, et les cycles biogéochimiques.</p>
		</div>
        <div class="question-box" id="q3-box">
            <div class="question">8. En  ordre de grandeur, quelle est l'épaisseur moyenne des formations superficielles ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q3" value="A"> A) De l'ordre du centimètre </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="D"> B) De l'ordre du mètre </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="B"> C) De l'ordre du kilomètre </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="C"> D) De l'ordre du millimètre </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les formations superficielles varient en épaisseur, mais leur épaisseur moyenne est généralement de l’ordre du mètre. Elles forment une mince couche en comparaison aux formations rocheuses en dessous, tout en étant essentielles pour l'écosystème et les activités humaines.</p>
		</div>

        <div class="buttons">
            <button type="button" onclick="evaluateQCM()">Corriger</button>
            <button type="button" onclick="resetTest()">Recommencer</button>
        </div>

    </form>
    <p id="result"></p>
</div>

<footer>
    RocksandWalk - @ <script> document.write(new Date().getFullYear())</script> - Régis THIÉRY
</footer>

<script>
    function evaluateQCM() {
        const correctAnswers = {
            "q6": ["D"],
            "q4": ["A"],
            "q2": ["C"],
            "q1": ["B"],
            "q7": ["C"],
            "q8": ["A"],
            "q5": ["C"],
            "q3": ["D"],
        };
        

        let score = 0;

        function generateFeedbackText(goodAnswers, goodCount, questionBox) {
            // Fonction utilitaire pour récupérer les 3 premières lettres d'une réponse
    
            function getAnswerLabel(value) {
                const label = questionBox.querySelector(`input[value="${value}"]`).parentNode;
                return label.textContent.trim().slice(0, 3); // Extrait les 3 premières lettres (ex: "A)")
            }

            if (goodAnswers.length === 0) {
                return "Pas de bonne réponse !";
            }

            const formattedAnswers = goodAnswers.map(answer => getAnswerLabel(answer));

            if (goodAnswers.length === 1) {
                return `${formattedAnswers[0]} est ${goodCount === 1 ? "la" : "une"} bonne réponse.`;
            }

            if (goodAnswers.length > 1) {
                return `${formattedAnswers.slice(0, -1).join(", ")} et ${formattedAnswers[formattedAnswers.length - 1]} sont de bonnes réponses.`;
            }

            return "";
            }


        for (let question in correctAnswers) {
            const selected = Array.from(document.querySelectorAll(`input[name="${question}"]:checked`)).map(e => e.value);
            const questionBox = document.getElementById(`${question}-box`);
            const correctOptions = correctAnswers[question];
            
            const goodAnswers = selected.filter(val => correctOptions.includes(val));
            let feedback = generateFeedbackText(goodAnswers, correctOptions.length, questionBox);

            let isCorrect = selected.length === correctOptions.length && correctOptions.every(option => selected.includes(option));
            questionBox.classList.toggle("correct", isCorrect);
            questionBox.classList.toggle("incorrect", !isCorrect);

            selected.forEach(val => {
                const optionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (correctOptions.includes(val)) {
                    optionLabel.style.fontWeight = "bold";
                } else {
                    optionLabel.classList.add("strikethrough");
                }
            });

            correctOptions.forEach(val => {
                const correctOptionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (!selected.includes(val)) {
                    correctOptionLabel.style.fontWeight = "bold";
                }
            });

            const correctAnswerLabel = questionBox.querySelector('.correct-answer');
            const feedbackLabel = questionBox.querySelector('.feedback');
            const commentBox = questionBox.querySelector('.comment');
            if (feedbackLabel) {
                feedbackLabel.style.display = 'block';
                feedbackLabel.innerHTML = feedback;
            }
            if (commentBox) {
                commentBox.style.display = 'block';
            }
           
            // Mappage des bonnes réponses avec les lettres (A, B, C, D)
            const correctAnswerLabels = correctOptions.map(val => {
                const label = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                const text = label.textContent.trim();
                return `${text}`;
                });


            let correctAnswerText = correctOptions.length === 1 
                ? `Bonne réponse : ${correctAnswerLabels.join("; ")}`
                : `Bonnes réponses : ${correctAnswerLabels.join("; ")}`;
            
            correctAnswerLabel.innerHTML = correctAnswerText;
            correctAnswerLabel.style.display = 'block';

            if (isCorrect) score+=goodAnswers.length;
        }

        const totalValues = Object.values(correctAnswers).reduce((acc, curr) => acc + curr.length, 0);
        const result = document.getElementById("result");

        if (score === 0) {
            result.textContent = `Vous n'avez obtenu aucune bonne réponse sur ${totalValues}.`;
        } else if (score === 1) {
            result.textContent = `Vous avez obtenu 1 bonne réponse sur ${totalValues}.`;
        } else {
            result.textContent = `Vous avez obtenu ${score} bonnes réponses sur ${totalValues}.`;
        }
    }

    function resetTest() {
        window.location.reload();
    }

    function openModal(imgElement) {
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");
        modal.style.display = "block";
        modalImg.src = imgElement.src;  // Utiliser l'image cliquée
    }

    function closeModal() {
        var modal = document.getElementById("imageModal");
        modal.style.display = "none";
    }

</script>




</body>
</html>
