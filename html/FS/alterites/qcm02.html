<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QCM : QCM Altération mécanique</title>
    <link rel="stylesheet" href="../../css/styleqcm1.css">
</head>
<body>

<div class="nav-buttons">
    <a href="fiche01.html"   class="nav-button"  >Retour</a>
    <a href="qcm01.html" class="nav-button"  >Page précédente</a>
    <a href="qcm03.html" class="nav-button"  >Page suivante</a>
</div>

<div class="container">
    <h1>QCM : Altération mécanique - Auto-évaluation</h1>
    <h2>Comment les roches se désagrègent ?</h2>
    <form id="qcm-form">
        <div class="question-box" id="q17-box">
            <div class="question">1. Pourquoi les minéraux magmatiques, qui cristallisent aux températures les plus élevées, et donc qui possèdent les liaisons chimiques les plus fortes, sont aussi ceux qui sont les plus altérables à la surface de la Terre ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q17" value="D"> A) parce que ces liaions fortes, de nature ionique, très résistantes aux hautes températures, deviennent covalentes à basse température </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="B"> B) parce que ces liaisons fortes, de nature ionique, très résistantes aux hautes température, sont aussi les plus fragiles au contact de la molécule dipolaire d'eau. </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="C"> C) parce que ces liaions fortes, de nature ionique, très résistantes aux hautes températures, sont affaiblies au contact de l'oxygène de l'air. </label>
                <label><input type="radio" class="checkbox-margin" name="q17" value="A"> D) parce que ces liaisons fortes, de nature ionique, très résistantes aux hautes températures, sont plus faibles à basse température. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les minéraux cristallisés à haute température sont particulièrement sensibles à l'altération chimique. En effet, les liaisons ioniques très fortes qui les stabilisent à haute température deviennent fragiles en présence d'eau, dont la nature dipolaire favorise la dissociation de ces liaisons, rendant ainsi les minéraux plus altérables à basse température.</p>
		</div>
        <div class="question-box" id="q1-box">
            <div class="question">2. Quand une roche se contracte (réduction de volume isotrope) sous l'effet d'un changement physique interne, on dit qu'elle subit</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q1" value="A"> A) une rétractation </label>
                <label><input type="checkbox" class="checkbox-margin" name="q1" value="B"> B) une rétraction </label>
                <label><input type="checkbox" class="checkbox-margin" name="q1" value="E"> C) un tassement </label>
                <label><input type="checkbox" class="checkbox-margin" name="q1" value="C"> D) un retrait </label>
                <label><input type="checkbox" class="checkbox-margin" name="q1" value="D"> E) une compaction </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Lorsqu'une roche subit une contraction due à des changements physiques internes, cela est désigné par des termes comme rétraction ou retrait, indiquant une diminution de son volume. Le terme "rétractation" est un terme juridique pour désigner la rupture d'un contrat par l'une des parties contractantes. Les termes "compaction" ou "tassement" ne sont appropriés, car ce sont des contractions de volume dans une direction préférentielle sous l'effet d'une force externe.</p>
		</div>
        <div class="question-box" id="q3-box">
            <div class="question">3. Érosion et altération sont deux synonymes</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q3" value="C"> A) Cela dépend du contexte </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="B"> B) Non </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="D"> C) Oui quand il est question de roches affleurantes </label>
                <label><input type="radio" class="checkbox-margin" name="q3" value="A"> D) Oui </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'érosion et l'altération ne sont pas des synonymes, bien que souvent liés. L'érosion implique le déplacement de matériaux à l'échelle d'un paysage, tandis que l'altération désigne la dégradation chimique et physique des roches observable à l'échelle locale (c'est-à-dire à l'échelle du minéral, de l'échantillon ou de l'affleurement).</p>
		</div>
        <div class="question-box" id="q18-box">
            <div class="question">4. Quel est le principal facteur contrôlant l'altération chimique des roches carbonatées ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q18" value="C"> A) La concentration en oxygène </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="A"> B) L'eau </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="B"> C) La teneur en dioxyde de carbone </label>
                <label><input type="radio" class="checkbox-margin" name="q18" value="D"> D) La concentration en sodium </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'altération chimique des roches carbonatées, telles que le calcaire, dépend principalement de la teneur en dioxyde de carbone (CO₂) dans l'eau, car le CO₂ se dissout pour former de l'acide carbonique. Cet acide favorise la dissolution des carbonates.</p>
		</div>
        <div class="question-box" id="q10-box">
            <div class="question">5. Quel est le principal facteur de fragilité mécanique des roches comme les granites ou les roches détritiques massives ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q10" value="D"> A) les défauts cristallins </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="C"> B) Les plans de mâcle </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="A"> C) Les dislocations intra-cristallines </label>
                <label><input type="radio" class="checkbox-margin" name="q10" value="B"> D) Les joints de grains </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> La fragilité des roches comme les granites ou les roches détritiques massives est souvent liée aux joints de grains et à la présence de fractures à l'échelle macroscopique, qui facilitent la rupture sous contrainte.</p>
		</div>
        <div class="question-box" id="q8-box">
            <div class="question">6. Le mot "diaclase" tire son origine des racines "dia" et "clase". Quelles sont leurs significations ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q8" value="B"> A) "Dia": "je traverse"." "Clase": "je casse". </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="A"> B) "Dia": "je passe". "Clase": "je cimente". </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="D"> C) "Dia": "je suis là". "Clase": "j'attends". </label>
                <label><input type="radio" class="checkbox-margin" name="q8" value="C"> D) "Dia": "je m'arrête". "Clase": "je bloque". </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> "Diaclase" vient du grec "dia" signifiant "à travers" et "clase" signifiant "cassure". Ce terme désigne des fissures dans les roches, souvent observées dans les zones où l'état des contraintes dépasse le seuil de rupture de la roche.</p>
		</div>
        <div class="question-box" id="q12-box">
            <div class="question">7. À l'échelle microscopique, quel est le principal facteur d'altérabilité intra-minérale ?</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q12" value="B"> A) Les plans de clivage </label>
                <label><input type="checkbox" class="checkbox-margin" name="q12" value="A"> B) Les plans de mâcle </label>
                <label><input type="checkbox" class="checkbox-margin" name="q12" value="C"> C) Les craquelures </label>
                <label><input type="checkbox" class="checkbox-margin" name="q12" value="D"> D) Les inclusions fluides </label>
                <label><input type="checkbox" class="checkbox-margin" name="q12" value="E"> E) Les zones de recristallisation </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'altérabilité intra-minérale est principalement contrôlée par la présence de plans de clivage et les craquelures, qui constituent des zones de faiblesse dans la structure minérale, facilitant la pénétration des solutions aqueuses.</p>
		</div>
        <div class="question-box" id="q19-box">
            <div class="question">8. Comment se dit "altération" en anglais ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q19" value="B"> A) Weathering </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="C"> B) Meteorisation </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="D"> C) Surficial degradation </label>
                <label><input type="radio" class="checkbox-margin" name="q19" value="A"> D) Alteration </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> En anglais, le terme correct pour "altération" dans le contexte géologique est "weathering". Ce mot désigne l'ensemble des processus qui dégradent les roches en surface, par des actions chimiques, physiques ou biologiques, alors que "alteration" fait référence à des modifications internes de la roche sans implication de l'exposition aux conditions de surface.</p>
		</div>
        <div class="question-box" id="q22-box">
            <div class="question">9. Pourquoi les roches grenues sont-elles fragiles ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q22" value="B"> A) B. À cause de leur forte densité. </label>
                <label><input type="radio" class="checkbox-margin" name="q22" value="C"> B) C. Parce qu'elles sont généralement peu solides. </label>
                <label><input type="radio" class="checkbox-margin" name="q22" value="D"> C) D. À cause de leur faible perméabilité. </label>
                <label><input type="radio" class="checkbox-margin" name="q22" value="A"> D) A. À cause des discontinuités entre les grains. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les roches grenues, comme le granite, présentent des discontinuités entre les grains ou entre les grains et le ciment, ce qui facilite leur altération.</p>
		</div>
        <div class="question-box" id="q20-box">
            <div class="question">10. De quel mot français est le mot anglais "meteorisation" le plus proche ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q20" value="B"> A) Météorisation </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="A"> B) Altération </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="C"> C) Désagrégation </label>
                <label><input type="radio" class="checkbox-margin" name="q20" value="D"> D) Impact météorique </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Le terme anglais "meteorisation" est le plus proche de "météorisation" en français. Il désigne les processus par lesquels les roches et les sols se dégradent sous l'action de l'atmosphère et des conditions météorologiques.</p>
		</div>
        <div class="question-box" id="q15-box">
            <div class="question">11. La série de stabilité de Goldich classe les minéraux dans l'ordre de stabilité décroissante. Quel est le bon ordre, du plus altérable au plus résistant .</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q15" value="A"> A) Quartz, Feldspaths, Amphibole, Pyroxène, Olivine </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="D"> B) Olivine, Quartz, Biotite, Amphibole, Feldspaths, Pyroxène </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="C"> C) Feldspaths, Quartz, Biotite, Amphibole, Pyroxène, Olivine </label>
                <label><input type="radio" class="checkbox-margin" name="q15" value="B"> D) Olivine. Pyroxène. Amphibole. Biotite. Feldspaths. Quartz </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> La série de stabilité de Goldich classe les minéraux du plus altérable (olivine) au plus résistant (quartz) en fonction de leur stabilité à la surface de la Terre.</p>
		</div>
        <div class="question-box" id="q11-box">
            <div class="question">12. Le tuffeau est une pierre de construction utilisée dans les pays de la vallée de la Loire (Touraine, Anjou, Poitou) en raison de son aspect esthétique et sa facilité de travail. À quoi est due son altérabilité ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q11" value="C"> A) Il contient trop d'argiles. </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="A"> B) Il est finement litée. </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="B"> C) Il a une grande capacité d'absorption d'eau. </label>
                <label><input type="radio" class="checkbox-margin" name="q11" value="D"> D) Son ciment, reliant les grains, n'est pas suffisamment solide. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'altérabilité du tuffeau est principalement due à sa grande capacité d'absorption d'eau, ce qui le rend vulnérable à l'érosion et à l'altération chimique.</p>
		</div>
        <div class="question-box" id="q6-box">
            <div class="question">13. À l'échelle régionale, quels sont les endroits propices au développement de l'altération et de l'érosion ?</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q6" value="C"> A) Les plaines </label>
                <label><input type="checkbox" class="checkbox-margin" name="q6" value="B"> B) Les zones faillées </label>
                <label><input type="checkbox" class="checkbox-margin" name="q6" value="A"> C) Les rebords de plateaux </label>
                <label><input type="checkbox" class="checkbox-margin" name="q6" value="D"> D) Les forêts </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les rebords de plateaux et les zones faillées sont particulièrement propices à l'altération et à l'érosion en raison de la présence de failles et de changements topographiques qui facilitent la pénétration de l'eau et accélèrent ces processus. Les plaines et les forêts, en revanche, sont généralement moins exposées à ces phénomènes à grande échelle.</p>
		</div>
        <div class="question-box" id="q16-box">
            <div class="question">14. En quoi la célèbre séquence établie par Norman Bowen sur les minéraux magmatiques est-elle similaire à la série de stabilité de Goldich? ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q16" value="A"> A) Elle classe les minéraux en fonction de leur couleur dans le même ordre que celle de Goldich. </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="C"> B) Elle classe les minéraux en fonction de leur densité dans le même ordre que celle de Goldich. </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="D"> C) Elle classe les minéraux selon leur teneur en fer dans le même ordre que celle de Goldich. </label>
                <label><input type="radio" class="checkbox-margin" name="q16" value="B"> D) : Elle classe les minéraux en fonction de leur température de cristallisation décroissante dans le même ordre que celle de Goldich. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> La série de stabilité de Goldich et la séquence de Bowen sont liées, car les minéraux cristallisant en premier dans la séquence de Bowen (à haute température) sont aussi les plus sujets à l'altération en surface selon Goldich, tandis que ceux cristallisant à plus basse température sont aussi les plus résistants.</p>
		</div>
        <div class="question-box" id="q2-box">
            <div class="question">15. Quels sont les principaux mécanismes physiques de rétraction d'une roche</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q2" value="D"> A) Une pression élevée </label>
                <label><input type="checkbox" class="checkbox-margin" name="q2" value="A"> B) L'osmose </label>
                <label><input type="checkbox" class="checkbox-margin" name="q2" value="B"> C) Une perte d'eau par séchage </label>
                <label><input type="checkbox" class="checkbox-margin" name="q2" value="C"> D) Un refroidissement </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les mécanismes physiques de rétraction incluent la perte d'eau par séchage et le refroidissement, qui entraînent une réduction du volume de la roche.</p>
		</div>
        <div class="question-box" id="q14-box">
            <div class="question">16. Quel est le principe empirique établi par le géologue américain, M. Goldich, en 1938 sur le degré d'altérabilité des minéraux ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q14" value="D"> A) que les minéraux s’altèrent uniquement en fonction de la présence d'eau dans leur environnement. </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="B"> B) que les minéraux formés à haute température et haute pression sont généralement plus instables à la surface de la Terre que ceux formés à des températures et des pressions plus basses. </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="C"> C) que tous les minéraux ont la même résistance à l'altération. </label>
                <label><input type="radio" class="checkbox-margin" name="q14" value="A"> D) que les minéraux riches en fer et en magnésium sont plus stables que ceux riches en silicium. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Le principe de Goldich repose sur une séquence d'altérabilité, indiquant que les minéraux formés dans des conditions de haute température et pression s'altèrent plus rapidement en surface.</p>
		</div>
        <div class="question-box" id="q23-box">
            <div class="question">17. Quelle roche est la plus résistante à l'altération chimique ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q23" value="A"> A) A. Le gneiss. </label>
                <label><input type="radio" class="checkbox-margin" name="q23" value="D"> B) D. La lave. </label>
                <label><input type="radio" class="checkbox-margin" name="q23" value="B"> C) B. Le quartzite. </label>
                <label><input type="radio" class="checkbox-margin" name="q23" value="C"> D) C. Le calcaire. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Le quartzite est particulièrement résistant à l'altération chimique en raison de sa composition riche en quartz, un minéral très stable.	</p>
		</div>
        <div class="question-box" id="q13-box">
            <div class="question">18. À l'échelle atomique, quels sont les endroits les plus facilement altérables des cristaux ?</div>
			<div class='options'>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="A"> A) Les faces cristallines </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="D"> B) Les défauts cristallins </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="C"> C) Les arêtes </label>
                <label><input type="checkbox" class="checkbox-margin" name="q13" value="B"> D) Les sommets </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> À l'échelle atomique, les défauts cristallins sont les zones les plus altérables. Ces défauts perturbent la structure régulière du cristal, ce qui permet à l'eau et aux autres agents altérants d'attaquer plus facilement le minéral. Les sommets et les arêtes sont aussi des zones particulièrement exposées.</p>
		</div>
        <div class="question-box" id="q5-box">
            <div class="question">19. Une roche en cours de retrait développe un réseau de fissures à section</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q5" value="A"> A) circulaire </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="C"> B) triangulaire </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="B"> C) polygonale </label>
                <label><input type="radio" class="checkbox-margin" name="q5" value="D"> D) de forme quelconque </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Lorsqu'une roche subit un retrait, elle développe souvent un réseau de fissures à section polygonale, caractéristiques des processus de contraction ou de séchage.</p>
		</div>
        <div class="question-box" id="q21-box">
            <div class="question">20. Qu'est-ce qu'une roche cohérente ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q21" value="D"> A) D. Une roche qui se pulvérise sous pression. </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="C"> B) B. Une roche qui se décompose rapidement. </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="A"> C) C. Une roche dure qui nécessite un marteau pour être cassée. </label>
                <label><input type="radio" class="checkbox-margin" name="q21" value="B"> D) A. Une roche souple qui se tord facilement. </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les roches cohérentes, comme les grès et les calcaires durs, sont plus résistantes et ne se cassent que sous l'effet d'une force plus importante, comme un marteau.</p>
		</div>
        <div class="question-box" id="q9-box">
            <div class="question">21. Quel est le terme communément utilisé pour qualifier le degré de résistance à la désagrégation d'une roche quand on la manipule sous les doigts ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q9" value="A"> A) La cohérence </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="D"> B) La résilience </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="B"> C) La consistance </label>
                <label><input type="radio" class="checkbox-margin" name="q9" value="C"> D) L'adhérence </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Le terme correct pour décrire la résistance d'une roche à la désagrégation est "consistance". La consistance d'une roche décrit le comportement d'une roche sous les doigts. Cette consistance peut décrire tous les états intermédiaires entre une roche friable à une roche cohérente (dure et indéformable).</p>
		</div>
        <div class="question-box" id="q4-box">
            <div class="question">22. Dans une coulée de lave en cours de refroidissement, les fentes de retrait thermique</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q4" value="A"> A) se développent de la périphérie vers le coeur de la coulée </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="B"> B) se développent perpendiculairement aux isothermes de refroidissement </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="C"> C) se développent uniquement à la surface </label>
                <label><input type="radio" class="checkbox-margin" name="q4" value="D"> D) se forment à des températures très élevées </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> Les fentes de retrait thermique dans une coulée de lave se forment généralement à partir de la périphérie où la lave refroidit plus rapidement, créant des fissures perpendiculaires aux isothermes de refroidissement.</p>
		</div>
        <div class="question-box" id="q7-box">
            <div class="question">23. Quels types de clastes produit l'altération et l'érosion d'une coulée de lave ?</div>
			<div class='options'>
                <label><input type="radio" class="checkbox-margin" name="q7" value="A"> A) Des sables noirs </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="C"> B) Des limons argileux de couleur foncée </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="D"> C) Rien, car une coulée de lave ne produit pas de clastes </label>
                <label><input type="radio" class="checkbox-margin" name="q7" value="B"> D) Des blocs décimétriques anguleux </label>
			</div>
			<p class='feedback' style='display:none;'></p>
			<p class='correct-answer' style='display:none;'></p>
			<p class='comment' style='display:none;'><strong>Commentaire:</strong> L'altération des coulées de lave, quand elles sont prismées, se développent le long des fissures de retrait thermiques, qui sont des zones exploitées par l'eau pour s'y infiltrer (hydrolyse et gélifraction).</p>
		</div>

        <div class="buttons">
            <button type="button" onclick="evaluateQCM()">Corriger</button>
            <button type="button" onclick="resetTest()">Recommencer</button>
        </div>

    </form>
    <p id="result"></p>
</div>

<footer>
    RocksandWalk - @ <script> document.write(new Date().getFullYear())</script> - Régis THIÉRY
</footer>

<script>
    function evaluateQCM() {
        const correctAnswers = {
            "q17": ["B"],
            "q1": ["B", "C"],
            "q3": ["B"],
            "q18": ["B"],
            "q10": ["B"],
            "q8": ["B"],
            "q12": ["B", "C"],
            "q19": ["B"],
            "q22": ["A"],
            "q20": ["B"],
            "q15": ["B"],
            "q11": ["B"],
            "q6": ["B", "A"],
            "q16": ["B"],
            "q2": ["B", "C"],
            "q14": ["B"],
            "q23": ["B"],
            "q13": ["D", "C", "B"],
            "q5": ["B"],
            "q21": ["A"],
            "q9": ["B"],
            "q4": ["B"],
            "q7": ["B"],
        };
        

        let score = 0;

        function generateFeedbackText(goodAnswers, goodCount, questionBox) {
            // Fonction utilitaire pour récupérer les 3 premières lettres d'une réponse
    
            function getAnswerLabel(value) {
                const label = questionBox.querySelector(`input[value="${value}"]`).parentNode;
                return label.textContent.trim().slice(0, 3); // Extrait les 3 premières lettres (ex: "A)")
            }

            if (goodAnswers.length === 0) {
                return "Pas de bonne réponse !";
            }

            const formattedAnswers = goodAnswers.map(answer => getAnswerLabel(answer));

            if (goodAnswers.length === 1) {
                return `${formattedAnswers[0]} est ${goodCount === 1 ? "la" : "une"} bonne réponse.`;
            }

            if (goodAnswers.length > 1) {
                return `${formattedAnswers.slice(0, -1).join(", ")} et ${formattedAnswers[formattedAnswers.length - 1]} sont de bonnes réponses.`;
            }

            return "";
            }


        for (let question in correctAnswers) {
            const selected = Array.from(document.querySelectorAll(`input[name="${question}"]:checked`)).map(e => e.value);
            const questionBox = document.getElementById(`${question}-box`);
            const correctOptions = correctAnswers[question];
            
            const goodAnswers = selected.filter(val => correctOptions.includes(val));
            let feedback = generateFeedbackText(goodAnswers, correctOptions.length, questionBox);

            let isCorrect = selected.length === correctOptions.length && correctOptions.every(option => selected.includes(option));
            questionBox.classList.toggle("correct", isCorrect);
            questionBox.classList.toggle("incorrect", !isCorrect);

            selected.forEach(val => {
                const optionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (correctOptions.includes(val)) {
                    optionLabel.style.fontWeight = "bold";
                } else {
                    optionLabel.classList.add("strikethrough");
                }
            });

            correctOptions.forEach(val => {
                const correctOptionLabel = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                if (!selected.includes(val)) {
                    correctOptionLabel.style.fontWeight = "bold";
                }
            });

            const correctAnswerLabel = questionBox.querySelector('.correct-answer');
            const feedbackLabel = questionBox.querySelector('.feedback');
            const commentBox = questionBox.querySelector('.comment');
            if (feedbackLabel) {
                feedbackLabel.style.display = 'block';
                feedbackLabel.innerHTML = feedback;
            }
            if (commentBox) {
                commentBox.style.display = 'block';
            }
           
            // Mappage des bonnes réponses avec les lettres (A, B, C, D)
            const correctAnswerLabels = correctOptions.map(val => {
                const label = questionBox.querySelector(`input[value="${val}"]`).parentNode;
                const text = label.textContent.trim();
                return `${text}`;
                });


            let correctAnswerText = correctOptions.length === 1 
                ? `Bonne réponse : ${correctAnswerLabels.join("; ")}`
                : `Bonnes réponses : ${correctAnswerLabels.join("; ")}`;
            
            correctAnswerLabel.innerHTML = correctAnswerText;
            correctAnswerLabel.style.display = 'block';

            if (isCorrect) score+=goodAnswers.length;
        }

        const totalValues = Object.values(correctAnswers).reduce((acc, curr) => acc + curr.length, 0);
        const result = document.getElementById("result");

        if (score === 0) {
            result.textContent = `Vous n'avez obtenu aucune bonne réponse sur ${totalValues}.`;
        } else if (score === 1) {
            result.textContent = `Vous avez obtenu 1 bonne réponse sur ${totalValues}.`;
        } else {
            result.textContent = `Vous avez obtenu ${score} bonnes réponses sur ${totalValues}.`;
        }
    }

    function resetTest() {
        window.location.reload();
    }

    function openModal(imgElement) {
        var modal = document.getElementById("imageModal");
        var modalImg = document.getElementById("modalImage");
        modal.style.display = "block";
        modalImg.src = imgElement.src;  // Utiliser l'image cliquée
    }

    function closeModal() {
        var modal = document.getElementById("imageModal");
        modal.style.display = "none";
    }

</script>




</body>
</html>
